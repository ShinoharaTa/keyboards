# 分割キーボードキット「玄 - Kuro」ビルドガイド

## はじめに

メイン画像

このキーボードは片側17キー、両手最大34キーの左右分割キーボードです。

組み立てには一部部品の加工、配線などを含みます。また、LEDの実装や、基盤のバリ落としなどが必要となります。

**※注意事項**

- 先行販売分は、ProMicroを使用するスルーホールが一部埋まっています。ピンセットなどで塗膜を落としてください。
- この記事はまだ執筆中です。ご自身が過去にキーボード組み立てた経験をもとに制作してください。
- この記事は深夜４時に書いています。説明用画像が全然足りていません。

## 部品リスト

**キット同梱品**

※画像

- PCB x2
- ボトムプレート x2
- 拡張プレート x2
- チップダイオード x30
- リセットスイッチ x2
- TRRSジャック x2
- ネジ 3mm x20
- ネジ 5mm x8
- スペーサー 5mm x16
- 配線 x6 (3色 2本ずつ）
- 絶縁テープ

**ご自身で買い揃えていただくもの**
(全て遊舎工房で入手できます)

- ProMicro（コンスルーピンヘッダ同梱品）x2
- Kailh Choc(ロープロスイッチ) x34
- ロープロ対応キーキャップ x34
- SK6812MINI LED x30

## 作り方の手順

私が組んだときの手順になりますが、この手順に沿って行えば一応ミスなく組めています。
部品の破損や取付ミスを防ぐためにも、手順は一つ一つ確認しながら進めてください。

作例は左手用です。拡張プレートの取付までは、左右による差異はありません。

### ダイオードの取り付け

ダイオードのパッドに、片側ずつ予備ハンダをします。

※画像

ダイオードの向きを揃えて、ピンセットではんだ付けしていきます。
※極性注意・・・！！

※画像

全部で15個、同じ向きに配置します。

### LEDのはんだ付け（オプション）

この項目はLEDを実装する場合の手順です。無くても構いません。

**LEDは熱に弱いので、ハンダゴテの温度は下げてください。**

※記事を書く。画像いれる。

### リセットスイッチの取り付け

リセットスイッチはこの面から差し込みます

※画像

はんだ付けは、こっちの部品面からおこないます。

※画像

ここでLEDの動作確認を一度行うことをおすすめします。
先に、ProMicroの準備と、QMKファームウェアを書き込みます。

### TRRSジャックの取り付け

TRRSを取り付けます。

※画像

反対面のスイッチと干渉するので、足を短く切ります。（短すぎないように注意）

※画像

ハンダが表面に盛られない程度にはんだ付けします。

※画像

### スイッチの取り付け

いよいよメカニカルスイッチをはんだ付けしていきます。
スイッチの足が折れ曲がっている場合は、手でまっすぐに伸ばしてください。

以下の丸で示した位置は加工が必要です。

ProMicroと重なる位置、一番外側の足は、スイッチと同じ高さになるよう調整してください。

TRRSジャックと重なる位置、プラスチックの足を基板の高さまで切り落としてください。

### ProMicroの取り付け

付属のピンヘッダは使いません。コンスルーピンヘッダを使用します。

![] (https://cdn.discordapp.com/attachments/536423734144401422/597460617997189120/20190707_032439.jpg)

向きを揃えてコンスルーピンヘッダを指します。

![](
https://cdn.discordapp.com/attachments/536423734144401422/597461489284153473/20190707_032521.jpg)

ボトムプレート付属の、絶縁テープをUSB部分に張ります。

※画像

ProMicroを載せます。
その後、以下の写真の様にProMicro側のみ（写真の面のみ）をはんだ付けします。
**メインPCB側は、はんだ付け不要です。**

※画像

### 拡張プレート側の加工

へし折ります。

削ります。（ヤスリがあると良し。）

スイッチをはんだ付けします。
**向き注意！！**

### 配線

線の長さをある程度揃えます。キットにより長さは異なります。

※画像

2mmほど被覆をはがし、呼びハンダします。

※画像

基板側にも呼びハンダし、１～３まで、順にはんだ付けします。

※画像

拡張プレート側も同様にはんだ付けします。

※画像

### カバーのネジ止め取り付け

ボトムプレート側から固定していきます。

基板を２枚挟むときは5mmのネジを使用します。
それ以外の箇所は4mmのネジを使います。

※画像

拡張基板側に4mmのネジとスペーサーを固定します。

※画像

メインPCBと4mmのネジで止めます。画像の４箇所です。

※画像

拡張基板の位置決めをして、固定します。

※画像

なお、拡張基板は一番寝かせた状態のとき、はみ出る部分は折って使うことが可能です。

※画像

### 完成に向けて

ゴム足を4隅につけます。

※画像

お好みのキーキャップを取り付けて完成です。

※画像

## QMK Firmwareの書き込み

※後日、公開します。

下記ページよりQMKファームウェアをダウンロードします。

https://github.com/ShinoharaTa/qmk_firmware/tree/kuro

右上、"Clone or download"ボタンより。

そしてダウンロードしたZIPファイルはお好きなところで展開します。
フォルダ階層はなるべく浅いほうがいいです。

gitに慣れている方はクローンしていただいても構いません。

環境構築については、こちら[Helixのビルドマニュアル](https://github.com/MakotoKurauchi/helix/blob/master/Doc/firmware_jp.md)が詳しく解説されています。

**ビルドと書き込み**

```
make kuro:defualt:avrdude
```

これを実行すると本番用のキーマップを書き込めます。
デフォルトでは以下のようになっています。

※キーマップ画像

キーマップの変更については`keyboards/kuro/rev2/keymap/default`をコピーして、お好きなフォルダ名で保存し、変更を行います。

